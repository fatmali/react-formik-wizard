(this["webpackJsonpreact-formik-wizard-example"]=this["webpackJsonpreact-formik-wizard-example"]||[]).push([[0],{70:function(e,t,a){e.exports=a(99)},71:function(e,t,a){},96:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);a(71);var n=a(0),i=a.n(n),l=a(64),r=a.n(l),s=a(65),o=a.n(s),c=a(37),u=a(68),d=function(e){var t=e.steps,a=e.currentStep,n=e.setCurrentStep;return i.a.createElement("div",{className:"tabs"},i.a.createElement("ul",null,t.map((function(e,t){return i.a.createElement("li",{key:e.name,className:(l=t,a===l?"is-active":"")},i.a.createElement("a",{onClick:function(){return n(t)}},e.name));var l}))))},m=function(e){var t=e.currentStep,a=e.children,n=Object(c.d)(),l=n.submitCount,r=n.errors;return i.a.createElement("div",null,i.a.createElement("div",null,a[t]),l>0&&r&&i.a.createElement("div",{className:"notification is-danger m-4"},"The form has errors, Please correct them and retry submitting."))},f=function(e){var t=e.field,a=e.customFields,n=Object(c.d)(),l=n.errors,r=n.values;return function(){if(t.show){var e=t.show.when;if(e){var a=r[e];if(t.show.is)return a===t.show.is;if(t.show.gte&&t.show.lte)return a>=t.show.gte&&a<=t.show.lte;if(t.show.gt&&t.show.lt)return a>t.show.gt&&a<t.show.lt;if(t.show.gte)return a>=t.show.gte;if(t.show.gt)return a>t.show.gt;if(t.show.lt)return a<t.show.lt;if(t.show.lte)return a<=t.show.lte;if(t.show.contains)return a.includes(t.show.contains)}return!1}return!0}()&&i.a.createElement(c.a,{name:t.id},(function(e){var n=e.field,r=e.form;return i.a.createElement("div",{className:"field"},i.a.createElement("label",{className:"label",htmlFor:t.id},t.label),function(e,t,n,r){void 0===n&&(n=[]);var s=r.field,o=r.form;if(a&&a[e]){var c=a[e];return i.a.createElement(c.component,{field:s,form:o})}switch(e){case"number":case"date":case"text":return i.a.createElement("input",Object.assign({},s,{onChange:function(e){return o.setFieldValue(s.name,e.target.value)},className:l&&l[t]?"input is-danger":"input",id:t}));case"textarea":return i.a.createElement("textarea",Object.assign({},s,{id:t,className:l&&l[t]?"textarea is-danger":"textarea"}));case"select":return i.a.createElement("select",{value:s.value,placeholder:s.placeholder,onChange:function(e){return o.setFieldValue(s.name,e.target.value)},className:l&&l[t]?"select is-danger":"select",id:t},n.map((function(e){return i.a.createElement("option",{key:e.value,value:e.value},e.label)})));default:return i.a.createElement("p",null,"No field defined ",s.type," for this control ",s.name)}}(t.type,t.id,t.options,{field:n,form:r}),i.a.createElement("p",{className:"help is-danger"},l&&l[t.id]))}))},h=function(e){var t=e.step,a=e.customFields;return i.a.createElement("div",null,t.sections.map((function(e){return i.a.createElement("div",{key:t.id,className:"panel"},i.a.createElement("p",{className:"panel-heading"},e.name),i.a.createElement("div",{className:"p-2"},e.fields.map((function(n){return i.a.createElement(f,{field:n,step:t,section:e,key:n.id,customFields:a})}))))})))};function p(e){var t=i.a.useState(0),a=t[0],n=t[1],l=i.a.useState({})[0],r=i.a.useState(),s=r[0],o=r[1],f=e.wizard;i.a.useEffect((function(){if(f.validation){var e=Object(u.transformAll)(f.validation);o(e)}}),[f.validation]);return i.a.createElement("div",null,i.a.createElement(d,{currentStep:a,steps:f.steps,completedSteps:l,setCurrentStep:n}),i.a.createElement(c.c,{initialValues:function(){var e={};return f.steps.forEach((function(t){return t.sections.forEach((function(t){t.fields.forEach((function(t){e[t.id]=t.initialValue||""}))}))})),e}(),onSubmit:function(t){return e.onComplete(t)},validationSchema:s},i.a.createElement(c.b,null,i.a.createElement("div",{className:"mb-4"},i.a.createElement(m,{currentStep:a},f.steps.map((function(t,a){return i.a.createElement(h,{step:t,key:a,customFields:e.customFields})})))),i.a.createElement("div",{className:"is-flex is-justify-content-flex-end"},0!==a&&i.a.createElement("button",{onClick:function(e){e.preventDefault(),n(0===a?0:a-1)},className:"button mr-2"},"Previous"),a===f.steps.length-1?i.a.createElement("button",{type:"submit",className:"button"},"Save"):i.a.createElement("button",{className:"button",onClick:function(e){e.preventDefault(),n(a===f.steps.length-1?0:a+1)}},"Next")))))}var v=function(e){var t=e.wizard,a=e.onComplete,n=e.customFields,l=void 0===n?{}:n;return i.a.createElement(p,{wizard:t,onComplete:a,customFields:l})},b=(a(96),a(97),function(e){var t=e.form,a=e.field;return i.a.createElement("div",null,i.a.createElement(o.a,{onDayChange:function(e){return t.setFieldValue(a.name,e)},value:a.value}))}),E=function(){return i.a.createElement(v,{wizard:{name:"JSON Wizard",settings:{disableNextUntilValid:!0,disableSubmitUntilValid:!0,useSections:!0},steps:[{name:"Personal Info",id:"personal_info",sections:[{name:"Biodata",id:"biodata",fields:[{label:"First Name",id:"first_name",type:"text",initialValue:"Zeinab"},{label:"Last Name",id:"last_name",type:"text",required:!0},{label:"Date of Birth",id:"dob",type:"date",initialValue:"2020-01-01",required:!0}]}]},{name:"Education",id:"education",sections:[{name:"High School",id:"education",fields:[{label:"Highest level of education",id:"highest_education",type:"select",options:[{label:"University",value:"university"},{label:"High school",value:"highschool"}]},{label:"Name",id:"highschool_name",type:"text",required:!0,show:{when:"highest_education",is:"highschool"}},{label:"GPA",id:"highschool_gpa",type:"number",required:!0}]}]},{name:"Medical",id:"medical",sections:[{name:"Current conditions",id:"current_conditions",fields:[{label:"Do you have any current conditions?",id:"current_conditions_available",type:"select",options:[{value:"yes",label:"Yes"},{value:"no",label:"No"}],required:!0},{label:"If yes, list all conditions you have",id:"all_conditions",type:"select",options:[{value:"1",label:"Diabetes"},{value:"2",label:"HBP"}],required:!0,show:{when:"current_conditions_available",is:"yes"}},{label:"Glucose reading",id:"glucose",type:"number",required:!0,show:{when:"all_conditions",is:"1"}},{label:"Blood pressure reading",id:"bp",type:"number",required:!0,show:{when:"glucose",gte:"7"}}]}]}],validation:[["yup.object"],["yup.shape",{first_name:[["yup.string"],["yup.required","first name is required"],["yup.max","5","only 5 chars allowed"]]}]]},onComplete:function(e){console.log(e)},customFields:{date:{component:b}}})};r.a.render(i.a.createElement(E,null),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.f301ea6f.chunk.js.map